## 1.分布式架构

### 0）单体架构

简单单体模式，MVC模式，前端后分离模式，组件模式，类库模式

### 1）面向服务架构

(Service oriented Architecture)以业务服务的角度和服务总线的方式考虑系统架构和企业it治理

它是一个组件模型，它将应用程序的不同功能单元(称为服务)通过这些服务之间定义良好的接口和契约联系起来。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得构建在各种这样的系统中的服务可以以一种统一和通用的方式进行交互

**有平台的中立性的接口契约来约定，通过将业务系统服务化，将不同的模块解耦，各种异构系统间可以轻松实现服务调用，消息交换和资源共享**

**SOA两大基石:rpc mq**

#### rpc

:同步远程服务调用，通过socket+自定义数据报文

通信协议：基于TCP,也可以基于HTTP

数据格式：序列化+反序列化机制

调用方式

RR模式：又叫请求响应模式（request-response）指每个调用都要有具体的返回结果信息

Oneway模式：单向调用模式，调用即返回，没有响应信息

Future模式：异步模式，调用后返回一个feture对象，然后执行完获取返回结果信息

Callback：又叫回调模式，处理完请求后，将处理结果作为参数传递给回调函数进行处理

后两种不常见，对应异步的通信技术MQ

#### mq

：异步远程服务调用

点对点模式

发布订阅模式



###  2）微服务架构

（Distrinuted Service Architecture）基于去中心化的分布式服务框架技术，考虑系统架构和服务治理

#### 特点

防止雪崩

服务降级

幂等

缓存

超时

熔断：

当请求下游的服务时，放生一定数量的失败后，熔断器打开，接下来的请求快速返回失败，过一段时间后再来查看下游服务是否已恢复正常，重置熔断器

服务隔离

可伸缩

数据库拆分

可扩展

1.由一些独立的服务共同组成应用系统

2.每个服务单独处理，独立运行与自己的进程中

3.每个服务都是独立的业务

4.分布式管理

5.低耦合

6.高内聚

(MscroService Architecture)对面向服务架构和分布式服务架构的扩展，使用更细粒度服务和一组设计准则来考虑大规模的复杂系统架构设计

#### 难题



### 3）SOA和DSA区别

1.微服务只是一种经过良好架构设计的SOA解决方案，是面向服务的交付方案

2.微服务更趋向于以自治的方式产生价值

3.微服务是SO思想的一种提炼

4.soa中esb，微服务轻网关